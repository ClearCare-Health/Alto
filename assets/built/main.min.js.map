{"version":3,"sources":["main.js"],"names":["html","$","darkMode","on","hasClass","removeClass","localStorage","setItem","addClass","whiteLogo","whiteImage","themeOptions","white_logo","append","carousel","imageHeight","nav","postImage","find","moveNav","height","css","top","opacity","owlCarousel","dots","margin","navText","onInitialized","onResized","responsive","0","items","768","992","video","fitVids","gallery","document","querySelectorAll","forEach","image","container","closest","ratio","attributes","width","value","style","flex","comment","disqus_shortname","remove","author","this","next","toggleClass","loadInstagram","photos","feed","storageKey","instagram_token","getItem","Math","floor","Date","now","JSON","parse","timestamp","outputInstagram","ajax","url","type","data","access_token","limit","fields","success","result","cache","stringify","photo","index","output","permalink","media_url","length","username","offCanvas","burger","jQuery","canvasClose","slicknav","label","prependTo","dimmer","keyup","e","keyCode","copyright","social","key","facebook","name","icon","twitter","instagram","dribbble","behance","github","linkedin","vk","rss","links","social_links","action","speed","fadeIn","fadeOut"],"mappings":"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","file":"main.min.js","sourcesContent":["var html = $('html');\n\n$(function () {\n  darkMode();\n  whiteLogo();\n  carousel();\n  video();\n  gallery();\n  comment();\n  author();\n  loadInstagram();\n  offCanvas();\n  copyright();\n  social();\n});\n\nfunction darkMode() {\n  $('.toggle-track').on('click', function() {\n    if (html.hasClass('dark-mode')) {\n      html.removeClass('dark-mode');\n      localStorage.setItem('alto_dark', false);\n    } else {\n      html.addClass('dark-mode');\n      localStorage.setItem('alto_dark', true);\n    }\n  });\n}\n\nfunction whiteLogo() {\n  if (themeOptions.white_logo != '') {\n    var whiteImage = '<img class=\"logo-image white\" src=\"' + themeOptions.white_logo + '\">';\n    $('.logo').append(whiteImage);\n  }\n}\n\nfunction carousel() {\n  var carousel = $('.carousel');\n  var postImage = carousel.find('.post-image');\n  var imageHeight, nav;\n\n  function moveNav() {\n    imageHeight = postImage.height();\n    if (!nav) {\n      nav = carousel.find('.owl-prev, .owl-next');\n    }\n    nav.css({\n      top: (imageHeight / 2) + 'px',\n      opacity: 1,\n    });\n  }\n\n  carousel.owlCarousel({\n    dots: false,\n    margin: 20,\n    nav: true,\n    navText: ['<i class=\"icon icon-chevron-left\"></i>', '<i class=\"icon icon-chevron-right\"></i>'],\n    onInitialized: function () {\n      moveNav();\n    },\n    onResized: function () {\n      moveNav();\n    },\n    responsive: {\n      0: {\n        items: 1,\n      },\n      768: {\n        items: 3,\n      },\n      992: {\n        items: 4,\n      },\n    },\n  });\n}\n\nfunction video() {\n  'use strict';\n  $('.post-content').fitVids();\n}\n\nfunction gallery() {\n  var images = document.querySelectorAll('.kg-gallery-image img');\n  images.forEach(function (image) {\n    var container = image.closest('.kg-gallery-image');\n    var width = image.attributes.width.value;\n    var height = image.attributes.height.value;\n    var ratio = width / height;\n    container.style.flex = ratio + ' 1 0%';\n  });\n}\n\nfunction comment() {\n  if (themeOptions.disqus_shortname == '') {\n    $('.comment-container').remove();\n  }\n}\n\nfunction author() {\n  $('.author-name').on('click', function () {\n    $(this).next('.author-social').toggleClass('enabled');\n  });\n}\n\nfunction loadInstagram() {\n  'use strict';\n  var photos;\n  var feed = $('.instagram-feed');\n  var storageKey = 'alto_instagram';\n\n  if (themeOptions.instagram_token != '') {\n    if ( localStorage.getItem(storageKey) !== null && (Math.floor(Date.now() / 1000) - JSON.parse(localStorage.getItem(storageKey)).timestamp) < 300) {\n\t\t\tphotos = JSON.parse(localStorage.getItem(storageKey)).photos;\n\t\t\toutputInstagram(photos, feed);\n\t\t} else {\n      $.ajax({\n        url: 'https://graph.instagram.com/me/media/',\n        type: 'GET',\n        data: {access_token: themeOptions.instagram_token, limit: 6, fields: 'media_url, permalink, username'},\n        success: function (result) {\n          photos = result.data;\n\t\t    \tvar cache = {\n\t\t    \t\tphotos: photos,\n\t\t    \t\ttimestamp: Math.floor(Date.now() / 1000)\n\t\t    \t};\n\t\t    \tlocalStorage.setItem(storageKey, JSON.stringify(cache));\n\t\t    \toutputInstagram(photos, feed);\n        }\n      } );\n\t\t}\n  } else {\n    feed.remove();\n  }\n}\n\nfunction outputInstagram(photos, feed) {\n  'use strict';\n  var photo;\n\tvar output = '';\n\n\tfor (var index in photos) {\n\t\tphoto = photos[index];\n    output += '<div class=\"instagram-feed-item u-hover-item u-placeholder square\">' +\n      '<a href=\"' + photo.permalink + '\" target=\"_blank\" rel=\"noopener noreferrer\">' +\n        '<img class=\"lazyload u-object-fit\" data-src=\"' + photo.media_url + '\" src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\">' +\n      '</a>' +\n    '</div>';\n  }\n\n  if (photos.length > 0) {\n    output += '<a class=\"instagram-feed-username\" href=\"https://www.instagram.com/' + photos[0].username + '\" target=\"_blank\" rel=\"noopener noreferrer\"><i class=\"instagram-feed-icon icon icon-instagram\"></i> ' + photos[0].username + '</a>';\n  }\n  \n  feed.html(output);\n}\n\nfunction offCanvas() {\n  var burger = jQuery('.burger');\n  var canvasClose = jQuery('.canvas-close');\n\n  jQuery('.nav-list').slicknav({\n    label: '',\n    prependTo: '.mobile-menu',\n  });\n\n  burger.on('click', function() {\n    html.toggleClass('canvas-opened');\n    html.addClass('canvas-visible');\n    dimmer('open', 'medium');\n  });\n\n  canvasClose.on('click', function() {\n    if (html.hasClass('canvas-opened')) {\n      html.removeClass('canvas-opened');\n      dimmer('close', 'medium');\n    }\n  });\n\n  jQuery('.dimmer').on('click', function() {\n    if (html.hasClass('canvas-opened')) {\n      html.removeClass('canvas-opened');\n      dimmer('close', 'medium');\n    }\n  });\n\n  jQuery(document).keyup(function(e) {\n    if (e.keyCode == 27 && html.hasClass('canvas-opened')) {\n      html.removeClass('canvas-opened');\n      dimmer('close', 'medium');\n    }\n  });\n}\n\nfunction copyright() {\n  if (themeOptions.copyright != '') {\n    $('.copyright').html(themeOptions.copyright);\n  }\n}\n\nfunction social() {\n  var data = {\n    facebook: {name: 'Facebook', icon: 'facebook'},\n    twitter: {name: 'Twitter', icon: 'twitter'},\n    instagram: {name: 'Instagram', icon: 'instagram'},\n    dribbble: {name: 'Dribbble', icon: 'dribbble'},\n    behance: {name: 'Behance', icon: 'behance'},\n    github: {name: 'GitHub', icon: 'github-circle'},\n    linkedin: {name: 'LinkedIn', icon: 'linkedin'},\n    vk: {name: 'VK', icon: 'vk'},\n    rss: {name: 'RSS', icon: 'rss'},\n  };\n  var links = themeOptions.social_links;\n  var output = '';\n\n  for (var key in links) {\n\t\tif (links[key] != '') {\n\t\t\toutput += '<a class=\"footer-social-item\" href=\"' + links[key] + '\" target=\"_blank\"><i class=\"icon icon-' + data[key]['icon'] + '\"></i></a>';\n\t\t}\n  }\n  \n  $('.footer-social').html(output);\n}\n\nfunction dimmer(action, speed) {\n  'use strict';\n\n  var dimmer = jQuery('.dimmer');\n\n  switch (action) {\n    case 'open':\n      dimmer.fadeIn(speed);\n      break;\n    case 'close':\n      dimmer.fadeOut(speed);\n      break;\n  }\n}"]}